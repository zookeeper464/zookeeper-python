import sys
from bisect import bisect_left as bil
input = sys.stdin.readline

n = int(input())
lst = list(map(int,input().split()))
dp = [-1000000000]
#변수 입력

for idx, i in enumerate(lst):
  if dp[-1] < i:
    dp.append(i)
    ilst = [i]
    s = idx
  else:
    temp = bil(dp,i)
    dp[temp] = i
  #가장 긴 수열의 길이를 찾고 그 마지막 값과 인덱스를 구한다.
  
for i in range(idx,-1,-1):
  if lst[i] < ilst[-1]:
    ilst.append(lst[i])
  elif lst[i] > ilst[-1] and lst[i] < ilst[-2]:
    ilst[-1] = lst[i]
  #가장 긴 수열을 찾는다.
  
print(len(dp)-1)
for i in range(1,len(dp)):
  print(ilst[-i], end = " ")
